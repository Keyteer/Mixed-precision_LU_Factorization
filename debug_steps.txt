# Interactive CUDA debugging steps (Updated for modern CUDA)
# Run these commands one by one in cuda-gdb:

# 1. Enable CUDA debugging features (memcheck is deprecated)
set cuda break_on_launch application
set cuda api_failures stop

# 2. Set breakpoint inside the kernel (line where we process each column)
break hgetf2_kernel.cu:26

# 3. Run the program
run

# 4. When the breakpoint hits, you'll see CUDA context is active
# Now you can use CUDA-specific commands:

# 5. List all active CUDA threads
info cuda threads

# 6. Switch to specific thread (block 0, thread 0)
cuda thread (0,0,0)

# 7. Print current thread variables
print tid
print j
print rows
print cols

# 8. Switch to another thread
cuda thread (0,0,1)
print tid

# 9. Step through kernel execution
step

# 10. Continue to next iteration
continue

# 11. You can also set conditional breakpoints
# break hgetf2_kernel.cu:26 if j == 1
